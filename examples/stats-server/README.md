# NetFlood ç»Ÿè®¡æ¥æ”¶æœåŠ¡å™¨ç¤ºä¾‹

è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ HTTP æœåŠ¡å™¨ç¤ºä¾‹ï¼Œç”¨äºæ¥æ”¶å’Œæ˜¾ç¤º NetFlood çš„ç»Ÿè®¡æ•°æ®ä¸ŠæŠ¥ã€‚

## åŠŸèƒ½

- æ¥æ”¶ NetFlood ç»Ÿè®¡æ•°æ®
- å®æ—¶åœ¨æ§åˆ¶å°æ˜¾ç¤ºæ¥æ”¶åˆ°çš„æ•°æ®
- æä¾›å‹å¥½çš„ Web ç•Œé¢è¯´æ˜

## ç¼–è¯‘

```bash
cd examples/stats-server
go build -o stats-server
```

## è¿è¡Œ

```bash
# é»˜è®¤ç›‘å¬ 8080 ç«¯å£
./stats-server
```

**è¾“å‡ºï¼š**
```
===========================================
ğŸ“Š NetFlood ç»Ÿè®¡æ¥æ”¶æœåŠ¡å™¨
===========================================
ç›‘å¬åœ°å€: http://localhost:8080
ç»Ÿè®¡æ¥å£: http://localhost:8080/stats

ä½¿ç”¨æ–¹æ³•:
  ./netflood -demo -stats-api http://localhost:8080/stats

æŒ‰ Ctrl+C åœæ­¢æœåŠ¡å™¨
===========================================
```

## ä½¿ç”¨

### 1. å¯åŠ¨ç»Ÿè®¡æœåŠ¡å™¨

åœ¨ä¸€ä¸ªç»ˆç«¯çª—å£ä¸­è¿è¡Œï¼š

```bash
./stats-server
```

### 2. è¿è¡Œ NetFlood å¹¶å¯ç”¨ç»Ÿè®¡ä¸ŠæŠ¥

åœ¨å¦ä¸€ä¸ªç»ˆç«¯çª—å£ä¸­è¿è¡Œï¼š

```bash
cd ../..
./build/netflood -demo -stats-api http://localhost:8080/stats
```

### 3. æŸ¥çœ‹ç»Ÿè®¡æ•°æ®

ç»Ÿè®¡æœåŠ¡å™¨ä¼šæ¯ 10 ç§’æ¥æ”¶ä¸€æ¬¡æ•°æ®ï¼Œå¹¶åœ¨æ§åˆ¶å°æ˜¾ç¤ºï¼š

```
[2025-10-25 14:30:15] ğŸ“Š æ”¶åˆ°ç»Ÿè®¡æ•°æ®:
  ä¸»æœºå: my-server
  å¹³å‡é€Ÿåº¦: 15.23 MB/s
  æ€»ä¸‹è½½é‡: 245.60 MB (0.24 GB)
  æ—¶é—´æ®µ: å…¨å¤©å€™
-------------------------------------------
[2025-10-25 14:30:25] ğŸ“Š æ”¶åˆ°ç»Ÿè®¡æ•°æ®:
  ä¸»æœºå: my-server
  å¹³å‡é€Ÿåº¦: 18.45 MB/s
  æ€»ä¸‹è½½é‡: 430.20 MB (0.42 GB)
  æ—¶é—´æ®µ: å…¨å¤©å€™
-------------------------------------------
```

## Web ç•Œé¢

åœ¨æµè§ˆå™¨ä¸­è®¿é—® `http://localhost:8080` å¯ä»¥çœ‹åˆ°ä½¿ç”¨è¯´æ˜å’Œ API æ–‡æ¡£ã€‚

## API æ¥å£

### POST /stats

æ¥æ”¶ç»Ÿè®¡æ•°æ®

**è¯·æ±‚å¤´ï¼š**
```
Content-Type: application/json
```

**è¯·æ±‚ä½“ï¼š**
```json
{
  "name": "my-server",
  "speed": 15.5,
  "total": 1024.0,
  "time": "12:00-13:00"
}
```

**å“åº”ï¼š**
```json
{
  "status": "success",
  "message": "Statistics received"
}
```

## æµ‹è¯•

ä½¿ç”¨ curl æµ‹è¯•ï¼š

```bash
curl -X POST http://localhost:8080/stats \
  -H "Content-Type: application/json" \
  -d '{
    "name": "test-server",
    "speed": 25.5,
    "total": 512.0,
    "time": "09:00-18:00"
  }'
```

## æ‰©å±•

è¿™ä¸ªç¤ºä¾‹æœåŠ¡å™¨å¯ä»¥æ‰©å±•ä¸ºï¼š

1. **æ•°æ®åº“å­˜å‚¨**ï¼šå°†ç»Ÿè®¡æ•°æ®ä¿å­˜åˆ°æ•°æ®åº“
2. **å®æ—¶ç›‘æ§é¢æ¿**ï¼šä½¿ç”¨ WebSocket å®æ—¶æ¨é€æ•°æ®åˆ°å‰ç«¯
3. **å‘Šè­¦ç³»ç»Ÿ**ï¼šå½“é€Ÿåº¦ä½äºé˜ˆå€¼æ—¶å‘é€å‘Šè­¦
4. **æ•°æ®åˆ†æ**ï¼šç”Ÿæˆå›¾è¡¨å’ŒæŠ¥è¡¨
5. **å¤šæœåŠ¡å™¨ç›‘æ§**ï¼šæ±‡æ€»å¤šå°æœåŠ¡å™¨çš„ç»Ÿè®¡æ•°æ®

## ç¤ºä¾‹ï¼šå®Œæ•´æµ‹è¯•æµç¨‹

```bash
# ç»ˆç«¯ 1: å¯åŠ¨ç»Ÿè®¡æœåŠ¡å™¨
cd examples/stats-server
go run main.go

# ç»ˆç«¯ 2: è¿è¡Œ NetFlood
cd ../..
./build/netflood -demo -stats-api http://localhost:8080/stats

# ç»ˆç«¯ 3: æ‰‹åŠ¨æµ‹è¯• API
curl -X POST http://localhost:8080/stats \
  -H "Content-Type: application/json" \
  -d '{"name":"test","speed":20.5,"total":500,"time":"å…¨å¤©å€™"}'
```

## ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å»ºè®®

1. **ä½¿ç”¨ç¯å¢ƒå˜é‡é…ç½®ç«¯å£**
2. **æ·»åŠ èº«ä»½éªŒè¯**ï¼ˆAPI Key æˆ– Tokenï¼‰
3. **æ·»åŠ  HTTPS æ”¯æŒ**
4. **æ·»åŠ è¯·æ±‚æ—¥å¿—**
5. **æ·»åŠ æ•°æ®éªŒè¯å’Œæ¸…æ´—**
6. **ä½¿ç”¨æ•°æ®åº“æŒä¹…åŒ–**
7. **æ·»åŠ ç›‘æ§å’Œå‘Šè­¦**

